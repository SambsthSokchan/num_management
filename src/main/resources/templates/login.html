<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Login - NUM System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/auth.css}">
</head>

<body>

    <!-- Dark Mode Switch (Top Right) - Kept absolute -->
    <div class="mod-switch-container">
        <div class="mod-switch" id="theme-toggle-switch">
            <div class="mod-switch-track">
                <div class="mod-switch-circle"></div>
                <i class="fas fa-sun position-absolute"
                    style="right: 8px; font-size: 12px; color: #F59E0B; z-index: 1;"></i>
                <i class="fas fa-moon position-absolute"
                    style="left: 8px; font-size: 12px; color: #6B7280; z-index: 1;"></i>
            </div>
        </div>
    </div>

    <!-- Main Split Wrapper -->
    <div class="auth-wrapper">
        <script>
            // Apply theme immediately
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-mode');
            }

            // Toggle Logic
            document.addEventListener("DOMContentLoaded", function () {
                const themeSwitch = document.getElementById('theme-toggle-switch');
                if (themeSwitch) {
                    themeSwitch.addEventListener('click', function () {
                        document.body.classList.toggle('dark-mode');
                        const theme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
                        localStorage.setItem('theme', theme);
                    });
                }
            });
        </script>

        <!-- Left Side: Form -->
        <div class="auth-left">
            <div style="max-width: 420px; width: 100%; margin: 0 auto;">
                <!-- Header -->
                <h2>Welcome</h2>
                <p class="auth-subtitle">Enter your Credentials to access your account</p>

                <!-- Alerts -->
                <div th:if="${param.error}" class="alert alert-danger"
                    style="color: #dc2626; background: #fee2e2; padding: 10px; border-radius: 8px; margin-bottom: 20px; text-align: center; font-size: 0.9rem;">
                    Invalid username or password.
                </div>
                <div th:if="${param.logout}" class="alert alert-info"
                    style="color: #059669; background: #d1fae5; padding: 10px; border-radius: 8px; margin-bottom: 20px; text-align: center; font-size: 0.9rem;">
                    You have been logged out.
                </div>

                <!-- Form -->
                <form th:action="@{/login}" method="post">
                    <div class="form-group">
                        <label>Email address</label>
                        <input type="text" name="username" class="form-control" placeholder="Enter your email" required>
                    </div>

                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" name="password" class="form-control" placeholder="Name" required>
                        <!-- Placeholder "Name" in mockup seems weird for password, but using "••••••••" or similar is better UX. I'll stick to standard or match wireframe literally? Wireframe says "Name" in password field... I'll use standard dots or "Enter password" for better UX. -->
                    </div>

                    <div class="form-extras">
                        <label class="form-check">
                            <input type="checkbox" name="remember-me">
                            Remember for 30 days
                        </label>
                        <a href="#" class="forgot-link">forgot password</a>
                    </div>

                    <button type="submit" class="btn-auth">Login</button>
                </form>

                <div class="divider">Or</div>

                <!-- Google Auth (Mock) -->
                <a href="#" class="btn-google">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="G">
                    Sign in with Google
                </a>

                <div class="auth-footer">
                    Don't have an account? <a th:href="@{/signup}">Sign Up</a>
                </div>
            </div>
        </div>

        <!-- Right Side: Image -->
        <div class="auth-right">
            <!-- Image loaded via CSS background -->
        </div>
    </div>

</body>

</html>